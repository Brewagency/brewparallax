if(typeof($)=="undefined"){$=jQuery}$.fn.extend({brewParallax:function(d){var c={containerVelocity:-0.5,containerAnimation:"background-position",containerParallax:true,innerElements:[],innerVelocities:[],innerAnimations:[],parallaxOffset:0,onWaypoint:function(){},smoothScrolling:false,smoothScrollBody:false,scrollYVelocity:500,scrollYSpeed:800};d=$.extend(c,d);var a=$(window);var b=this;var g;var i=[];$(b).each(function(){for(element in d.innerElements){i[element]=$(this).find(d.innerElements[element]).position().top}});function j(k){e(0)}function e(k){var m=a.scrollTop();var l=0;$(b).each(function(){var n=$(this);var q=n.offset().top+d.parallaxOffset;var o=n.height();if(q<m&&m<(q+o-d.parallaxOffset)){if(d.containerParallax){if(d.containerVelocity<0){var r=Math.round((m-q)*d.containerVelocity)+"px"}else{var r=Math.round(o+(m-q)*d.containerVelocity)+"px"}$(this).css(d.containerAnimation,"center "+r)}for(var p=0;p<d.innerElements.length;p++){l=p;$(this).find(d.innerElements[p]).each(function(v){var s={};var u;var t=d.innerAnimations[l];if(t=="top"){u=Math.round((m-q)*d.innerVelocities[l])+i[l]+"px"}else{if(t=="opacityOut"){u=1-((m-q)/o);t="opacity"}else{if(t=="opacityIn"){u=0+((m-q)/o);t="opacity"}else{u=Math.round((m-q)*d.containerVelocity)+"px"}}}s[t]=u;$(this).stop().animate(s,k)})}d.onWaypoint.apply(this)}})}function h(m,k){var n,l=0;return function(){var p=new Date().getTime(),o=p-l;if(o>=m){l=p;k.apply(this,arguments)}}}a.scroll(h(10,j));if(d.smoothScrolling){if(typeof $("body").mousewheel=="undefined"){if(window.console){console.warn("jquery.mousewheel.js is required for smooth scrolling")}}else{if(typeof scrollTo=="undefined"){if(window.console){console.warn("jquery.scrollTo-min.js is required for smooth scrolling")}}else{if(d.smoothScrollBody){scrollable=$("body")}else{scrollable=this}var f=false;$(scrollable).mousewheel(function(l,k){if(!f){f=true;if(k<0){$("body").stop().scrollTo("+="+d.scrollYVelocity,d.scrollYSpeed,function(){f=false})}else{$("body").stop().scrollTo("-="+d.scrollYVelocity,d.scrollYSpeed,function(){f=false})}}return false})}}}e(0)}});